function formValidate(a,b){if(a.preview)return alert("Im Vorschaumodus k\u00f6nnen keine Formulare abgesendet werden!!"),!1;for(var c=!0,d=0;d<a.elements.length;d++)if("INPUT"==a.elements[d].nodeName||"SELECT"==a.elements[d].nodeName||"TEXTAREA"==a.elements[d].nodeName)c=("radio"!=a.elements[d].type&&"checkbox"!=a.elements[d].type?formInputValidate(a.elements[d]):formCheckboxValidate(a.elements[d]))&&c;!c&&!b&&(window.scrollTo(0,0),alert("Das Formular kann noch nicht abgeschickt werden. Bitte korrigieren Sie die hervorgehobenen Felder."));
return c}function formValidateNode(a,b){for(var c=!0,d=["input","select","textarea"],f=0;f<d.length;f++){var e=a.getElementsByTagName(d[f]);if(0<e.length)for(var g=0;g<e.length;g++)c=("radio"!=e[g].type&&"checkbox"!=e[g].type?formInputValidate(e[g]):formCheckboxValidate(e[g]))&&c}!c&&!b&&(window.scrollTo(0,0),alert("Bitte korrigieren Sie die hervorgehobenen Felder."));return c}
function formValidateImperia(a){return"save"==document.forms.imperia.__imperia.value&&!formValidate(a,!0)?confirm("Bitte korrigieren Sie noch die hervorgehobenen Felder.")?"STOP":!0:!0}
function formInputValidate(a){a.className&&-1!=a.className.indexOf("error")&&formRemoveError(a);if(a.getAttribute("accept")&&a.value&&"file"!=a.type){if(!RegExp("^(?:"+a.getAttribute("accept")+")$").test(a.value))return formAddError(a,"Der Inhalt von diesem Feld entspricht nicht dem erlaubten Inhalt")}else if(a.className&&-1!=a.className.indexOf("required")&&(!a.value||""==a.value||/^--.*--$/.test(a.value)))return formAddError(a,"Dieses Feld darf nicht leer sein.");return!0}
function formCheckboxValidate(a){var b=a.name.replace(/\[\]/,"");if(/_0$/.test(a.id)&&document.getElementById(b)&&document.getElementById(b).className&&-1!=document.getElementById(b).className.indexOf("required")){-1!=document.getElementById(b).className.indexOf("error")&&formRemoveError(document.getElementById(b));for(var c=0,a=a.id;document.getElementById(a=a.replace(/_[0-9]+$/,"_"+c));){if(document.getElementById(a).checked)return!0;c++}return formAddError(document.getElementById(b),"Bitte suchen Sie eine Option aus.")}return!0}
function formAddError(a,b){addClassName(a,"error");if(a.title||b){var c=document.createElement("small");c.innerHTML=a.title?a.title:b;c.className="form_msg";a.nextSibling?a.parentNode.insertBefore(c,a.nextSibling):a.parentNode.appendChild(c)}return!1}function formRemoveError(a){removeClassName(a,"error");"SMALL"==a.nextSibling.nodeName?a.parentNode.removeChild(a.nextSibling):a.parentNode.getElementsByTagName("small")&&a.parentNode.removeChild(a.parentNode.getElementsByTagName("small")[0])}
function formHighlight(a){a=window.event?window.event.srcElement:a.originalTarget;if("INPUT"==a.tagName)a=a.parentNode;"LABEL"==a.tagName&&1!=a.firstChild.checked?addClassName(a,"checked"):"LABEL"==a.tagName&&1==a.firstChild.checked&&removeClassName(a,"checked")}function formTextareaExtend(a,b,c){for(var d=a.value.split("\n"),f=0,e=0;e<d.length;++e)f=f+Math.floor(d[e].length/a.cols)+1;a.rows=Math.min(b,Math.max(c,f+1));console.log(a.rows,b,c,f)}
function addClassName(a,b){if(a&&-1==a.className.indexOf(b))return a.className=a.className?a.className+" "+b:b}function removeClassName(a,b){if(a)return a.className=a.className.replace(RegExp("s?"+b+"\\b"),"")};
